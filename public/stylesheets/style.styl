html
body
  height 100%
  margin 0

.plaid
  width 100%
  height 100%

colorstops(colors)

  // Reduce columns to determine overall width/height in relative units.
  w = 0
  for color in colors
    w += color[1]

  // Map columns to stops.
  stops = ()
  
  // Initialize offset.
  offset = 0
  
  // Prepare comma-delimited list.
  comma = (\,)
  delimeter = ()
  
  for color, i in colors
    
    // Keep summing the percentile widths to determine offset of color stop.
    offset += (color[1] / w)

    // Join stops with a comma.
    if i > 0
      delimeter = comma

    // There's some wonkiness with the offsets, but using i + 1 and then 
    // eliminating 0 seems to work. :/
    stops[i + 1] = delimeter rgba(color[0], 0.5) 0 comma rgba(color[0], 0.5) offset * 100%
  stops[0] = ()
  
  // Return value.
  stops
  
plaid(rows, cols, width, height)
  background-image linear-gradient(colorstops(rows)), linear-gradient(to right, colorstops(cols))
  background-size width height

   
.cowboy  
  rows = ((lightgray 2.125) (crimson 0.1875) (lightgray 0.375) (cyan 0.75) (mediumblue 0.5) (crimson 0.25))
  cols = ((cyan 0.6875) (lightgray 0.5) (lightcyan 0.125) (lightgray 1.9375) (mediumblue 0.125) (purple 0.0625) (crimson 0.3125) (white 0.125) (lightgray 0.125))
  plaid(rows, cols, 460px, 460px)

.touchpunch
  rows = ((red 1.25) (white .25) (dodgerblue 1.25) (white .25))
  cols = rows
  plaid(rows, cols, 350px, 330px)

// 10:23 start
// 10:37 end
.quicksilver
  rows = ((firebrick 0.1875) (white 0.0625) (linen 0.0625) (lightslategray 0.0625) (linen 0.0625) (white 0.0625) (firebrick 0.1875) (white 0.03125) (linen 0.03125) (lightslategray 0.03125) (linen 0.03125) (white 0.03125))
  cols = ((firebrick 0.3125) (white 0.03125) (linen 0.03125) (lightslategray 0.0625) (linen 0.03125) (white 0.03125) (firebrick 0.3125) (white 0.015625) (linen 0.015625) (lightslategray 0.03125) (linen 0.015625) (white 0.015625))
  plaid(rows, cols, 105px, 105px)


.madras
  $blue = darkblue
  $red = crimson
  $yellow = goldenrod
  $linen = linen
  rows = (($blue 9/16) ($red 3/32) ($blue 1/4) ($linen 1/8) ($blue 1/16) ($linen 5/32) ($blue 1/16) ($linen 5/32) ($blue 1/16) ($linen 1/8) ($blue 1/4) ($red 3/32) ($blue 9/16) ($linen 21/32) ($blue 7/32) ($yellow 1/32) ($red 5/16) ($yellow 1/32) ($blue 7/32) ($linen 21/32))
  cols = (($blue 11/16) ($linen 1/8) ($blue 1/32) ($yellow 3/32) ($blue 1/16) ($yellow 3/32) ($blue 1/32) ($linen 1/8) ($blue 3/8) ($linen 1/8) ($blue 1/32) ($yellow 3/32) ($blue 1/16) ($yellow 3/32) ($blue 1/32) ($linen 1/8) ($blue 11/16) ($linen 11/16) ($blue 1/32) ($red 7/32) ($linen 1/32) ($blue 3/16) ($linen 1/32) ($red 7/32) ($blue 1/32) ($linen 11/16))
  plaid(rows, cols, 581px, 535px)
  background-position 30% 30%
